/* ====== LIGHT THEME para el wizard de recarga ====== */
.recarga-wrap { display: grid; gap: 16px; }

/* Header steps */
.recarga-header {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;

  .recarga-step {
    display: flex; gap: 12px; align-items: center; opacity: .9; transition: .2s;
    .badge {
      width: 28px; height: 28px; border-radius: 50%;
      display: grid; place-items: center; font-weight: 700;
      background: #E0F2FE;       /* azul muy claro */
      color: #0369A1;            /* azul medio */
    }
    .txt {
      display: grid; line-height: 1.15;
      strong { font-weight: 700; color: #0F172A; }  /* slate-900 */
      span { font-size: 12px; color: #475569; }     /* slate-600 */
    }
    &.active {
      .badge { background: #DCFCE7; color: #15803D; } /* verde claro */
    }
  }

  .divider {
    height: 2px; width: 100%;
    background: linear-gradient(90deg, #BAE6FD, #BBF7D0); /* azul/verde claritos */
    border-radius: 999px;
  }
}

/* Card clara */
.recarga-card {
  background: #FFFFFF;
  border: 1px solid #E5E7EB;  /* gray-200 */
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.06); /* sombra sutil */
}

/* Toolbar */
.recarga-toolbar {
  display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;
  .left { display: flex; align-items: center; gap: 10px;
    i { font-size: 18px; color: #10B981; }  /* verde */
    h3 { margin: 0; font-weight: 700; color: #0F172A; }
  }
  .right { display:flex; align-items:center; gap: 8px; }
  .recarga-search { width: 360px; max-width: 100%; }
}

/* Grid */
.recarga-grid {
  display: grid; gap: 12px;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  @media (max-width: 1100px) { grid-template-columns: repeat(2, 1fr); }
  @media (max-width: 700px) { grid-template-columns: 1fr; }
}

/* Item claro */
.recarga-item {
  position: relative;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 12px;
  background: #FFFFFF;
  transition: transform .15s ease, border-color .2s, box-shadow .2s;
  cursor: pointer;

  .linea { display:flex; align-items:center; gap:8px; margin: 2px 0;
    i { font-size: 12px; color:#64748B; } /* slate-500 */
    .clave { color: #64748B; }
    &.saldo b { color: #16A34A; } /* green-600 */
  }

  &:hover {
    transform: translateY(-2px);
    border-color: #93C5FD; /* azul claro */
    box-shadow: 0 4px 16px rgba(2, 132, 199, 0.12);
  }
  &.selected {
    border-color: #22C55E;
    box-shadow: 0 0 0 3px rgba(34,197,94,.18) inset;
  }

  .check { position:absolute; top:8px; right:8px; color:#22C55E; }
}

/* Paginator contenedor */
.recarga-paginator { display:flex; justify-content:flex-end; margin-top: 8px; }

/* Layout 2 columnas */
.recarga-layout {
  display: grid; gap: 16px; grid-template-columns: 1.2fr .8fr;
  @media (max-width: 1000px) { grid-template-columns: 1fr; }
}

/* Col izquierda */
.recarga-left {
  display: grid; gap: 12px;

  .monto-input {
    display:flex; align-items:center; gap:12px;
    background: #FFFFFF;
    border: 1px solid #E5E7EB;
    border-radius: 12px; padding: 12px 14px;
    .signo { font-weight: 800; font-size: 22px; color:#0F172A; }
    input { all: unset; width:100%; font-size: 28px; font-weight: 700; color:#0F172A; }
  }

  .monto-chips { display:flex; flex-wrap: wrap; gap: 8px; }

  .keypad {
    display:grid; gap:10px; grid-template-columns: repeat(3, 1fr);
    button {
      height: 52px; border-radius: 12px; border: 1px solid #E5E7EB;
      background: #F8FAFC; /* slate-50 */
      cursor: pointer; font-weight: 700; color:#0F172A;
      transition: transform .05s ease, background .2s, border-color .2s;
    }
    button:hover { background:#EFF6FF; border-color:#BFDBFE; } /* azul claro */
    button:active { transform: scale(.98); }
  }
}

/* Col derecha: resumen */
.recarga-right .summary {
  border: 1px solid #E5E7EB;
  border-radius: 16px; padding: 14px;
  background: #FFFFFF;

  .summary-head { display:flex; align-items:center; gap:8px; margin-bottom:8px;
    i { color:#0284C7; } /* azul medio */
    h4 { margin:0; font-weight:800; color:#0F172A; }
  }
  .summary-row { display:flex; justify-content: space-between; margin: 8px 0;
    span { color:#475569; }
    b { color:#0F172A; }
    .monto { color:#16A34A; font-weight:800; }
  }
  .summary-foot { display:flex; gap:8px; margin-top: 10px; }
}

/* Icono de label reutilizable */
.doc-icon { margin-right: 8px; color: #0284C7; font-size: 14px; vertical-align: middle; }

/* ===== LISTA de monederos (3 por línea) ===== */
/* Scroll vertical en la lista de monederos */
.recarga-list {
  list-style: none;
  align-items: flex-start;     /* no stretch */
  align-content: flex-start;   /* por si hay una sola fila */
  min-height: 0;   
  padding: 10px;
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  /* altura máxima; ajusta a tu gusto */
  max-height: min(52vh, 450px);
  overflow-y: auto;

  /* opcional: mantiene el ancho estable cuando aparece la barra */
  @supports (scrollbar-gutter: stable) {
    scrollbar-gutter: stable both-edges;
  }

  /* opcional: un poco de separación para que no tape contenidos */
  padding-right: .25rem;

  /* (opcional) alto mínimo para que el contenedor no se vea “enano” con pocos items */
}

/* Opcional: estiliza la barra (WebKit) */
.recarga-list::-webkit-scrollbar {
  width: 8px;
}
.recarga-list::-webkit-scrollbar-thumb {
  border-radius: 8px;
  background: rgba(0, 0, 0, .25);
}
.recarga-list::-webkit-scrollbar-track {
  background: transparent;
}


.recarga-list-item {
  align-self: flex-start;
  position: relative;
  flex: 1 1 calc(33.333% - 8px); /* 3 por fila */
  min-width: 260px;
  background: #fff;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 12px;
  cursor: pointer;
  transition: transform .15s ease, border-color .2s, box-shadow .2s;

  .linea {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 2px 0;

    i { font-size: 12px; color: #64748B; }
    .clave { color: #64748B; }
    &.saldo b { color: #16A34A; }
  }

  &:hover {
    transform: translateY(-2px);
    border-color: #93C5FD;
    box-shadow: 0 4px 16px rgba(2, 132, 199, 0.12);
  }

  &.selected {
    border-color: #22C55E;
    box-shadow: 0 0 0 3px rgba(34,197,94,.18) inset;
  }

  .check {
    position: absolute;
    top: 8px;
    right: 8px;
    color: #22C55E;
  }
}

/* Responsivo */
@media (max-width: 1100px) {
  .recarga-list-item { flex: 1 1 calc(50% - 8px); } /* 2 por fila */
}
@media (max-width: 700px) {
  .recarga-list-item { flex: 1 1 100%; } /* 1 por fila */
}

/* Paginador */
.recarga-paginator {
  display: flex;
  justify-content: flex-end;
  margin-top: 8px;
}


/* (Asegúrate de tener Montserrat cargado globalmente)
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,600;0,700;1,700&display=swap" rel="stylesheet">
*/

:host {
  --c-azul-oscuro: #0A2E57;
  --c-azul-medio:  #1F5AA8;
  --c-verde-limon: #A6CE39;
  --c-blanco:      #FFFFFF;
  font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* ======================= ZONAS ======================= */
.zonas-card {
  overflow: hidden; border-radius: 18px;

  .card-header{
    background: linear-gradient(180deg, color-mix(in srgb, var(--c-azul-medio) 14%, transparent), transparent);
    border-bottom: 1px solid color-mix(in srgb, var(--c-azul-medio) 35%, transparent);
    padding: 1rem 1.25rem; gap: .75rem;

    .chip-step{
      width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
      font-weight:700; color: var(--c-blanco);
      background: linear-gradient(140deg, var(--c-azul-medio), var(--c-azul-oscuro));
      box-shadow: 0 8px 18px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent),
                  inset 0 1px 0 rgba(255,255,255,.25);
    }
    .titulo-card{
      font-style: italic; font-weight: 700; letter-spacing:.2px;
      background: linear-gradient(90deg, var(--c-azul-oscuro), var(--c-azul-medio));
      -webkit-background-clip:text; background-clip:text; color: transparent;
      font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
    }
    .input-search .input-group-text{ background:#fff; border-right:0; color: var(--c-azul-oscuro); }
    .input-search .form-control{ border-left:0; }
  }

  .card-body{ padding: 1.25rem; }

  .zona-card{
    position:relative; border-radius:18px; border:1px solid rgba(0,0,0,.06); padding:1rem;
    background:
      linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.95)),
      radial-gradient(120% 120% at 0% 0%, color-mix(in srgb, var(--c-azul-medio) 10%, transparent), transparent 60%);
    backdrop-filter: blur(6px);
    transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease; cursor:pointer; outline:none;

    &:hover{ transform: translateY(-2px); box-shadow: 0 12px 28px rgba(10,46,87,.12); }
    &:focus{ box-shadow: 0 0 0 3px color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }

    &__bg{ position:absolute; inset:0; z-index:0; pointer-events:none; --accent: var(--c-azul-medio);
      mask: radial-gradient(200px 200px at 95% -10%, rgba(0,0,0,.18), transparent 70%);
      background:
        radial-gradient(240px 160px at 110% -10%, color-mix(in srgb, var(--accent) 45%, white), transparent 60%),
        radial-gradient(180px 220px at -10% 120%, color-mix(in srgb, var(--c-azul-medio) 18%, transparent), transparent 60%);
      border-radius:inherit;
    }

    &__head, &__meta { position:relative; z-index:1; }

    .zona-id{
      width: 40px; height: 40px; border-radius: 12px; display:flex; align-items:center; justify-content:center;
      font-weight:700; font-style: italic; font-size:.95rem;
      background: linear-gradient(145deg, var(--c-azul-oscuro), var(--c-azul-medio)); color: var(--c-blanco);
      box-shadow: 0 4px 10px rgba(10, 46, 87, 0.25);
    }
    .zona-title{ font-weight:600; color: var(--c-azul-oscuro); font-size:1.05rem; }
    .estado{ border-radius:999px; padding:.25rem .7rem; font-size:.75rem;
      background: color-mix(in srgb, var(--c-verde-limon) 25%, transparent);
      color: var(--c-azul-oscuro); border: 1px solid color-mix(in srgb, var(--c-verde-limon) 50%, transparent); font-weight:600; }

     &__meta {
      margin-top: .75rem;
      display: grid;
      grid-template-columns: 1fr; /* 👈 antes 1fr 1fr */
      gap: .5rem;

      .meta-item {
        background: color-mix(in srgb, var(--c-azul-medio) 12%, white);
        color: var(--c-azul-oscuro);
        border-radius: 10px;
        padding: .45rem .6rem;
        display: flex;
        align-items: center;
        gap: .35rem;
        font-weight: 600;
        font-size: .85rem;
      }

      .meta-item--desc span {
        white-space: normal; /* por si la descripción es larga */
      }
    }

    &--selected{ border-color: var(--c-azul-medio);
      box-shadow: 0 12px 28px color-mix(in srgb, var(--c-azul-medio) 28%, transparent);
      .zona-title{ color: var(--c-azul-medio); font-weight:700; } }
  }

  .card-footer{ background: var(--c-blanco); border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
    .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro) 70%, #4b5563); } }

  .btn.btn-primary{
    background: linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro));
    border-color: var(--c-azul-oscuro); color: var(--c-blanco);
  }
  .btn.btn-primary:hover{ filter:brightness(1.05); box-shadow:0 6px 16px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent); }
  .btn.btn-primary:focus{ outline:0; box-shadow:0 0 0 .2rem color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }
  .btn.btn-primary:disabled{
    opacity:.55;
    background: linear-gradient(90deg, color-mix(in srgb, var(--c-azul-medio) 60%, #ddd), color-mix(in srgb, var(--c-azul-oscuro) 60%, #bbb));
    border-color: color-mix(in srgb, var(--c-azul-oscuro) 60%, #bbb);
  }
  .btn.btn-outline-secondary{ color: var(--c-azul-oscuro); border-color: var(--c-azul-medio); }
  .btn.btn-outline-secondary:hover{ color:#fff; background:linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro)); border-color: var(--c-azul-oscuro); }
}

/* ======================= RUTAS ======================= */
.rutas-card{
  --c-azul-oscuro:#0A2E57; --c-azul-medio:#1F5AA8; --c-verde-limon:#A6CE39; --c-blanco:#fff;
  border-radius:18px; overflow:hidden; font-family:'Montserrat',sans-serif;

  .card-header{
    background: linear-gradient(180deg, color-mix(in srgb, var(--c-azul-oscuro) 12%, transparent), transparent);
    border-bottom:1px solid color-mix(in srgb, var(--c-azul-oscuro) 30%, transparent);
    padding:1rem 1.25rem; gap:.75rem;

    .chip-step{
      width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
      font-weight:700; color:var(--c-blanco);
      background: linear-gradient(140deg, var(--c-azul-medio), var(--c-azul-oscuro));
      box-shadow:0 8px 18px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent);
    }
    .titulo-card{
      font-style:italic; font-weight:700;
      background:linear-gradient(90deg,var(--c-azul-oscuro),var(--c-azul-medio));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
    }
    .zona-pill{ color:var(--c-azul-medio); font-weight:600; }
    .input-search .input-group-text{ background:#fff; border-right:0; color:var(--c-azul-oscuro); }
    .input-search .form-control{ border-left:0; }
  }

  .card-body{ padding:1.25rem; }

  .ruta-card{
    position:relative; border-radius:16px; border:1px solid rgba(0,0,0,.06);
    padding:.85rem; /* MÁS PEQUEÑA */
    background:
      linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.97)),
      radial-gradient(120% 120% at 0% 0%, color-mix(in srgb, var(--c-azul-oscuro) 8%, transparent), transparent 60%);
    transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease; cursor:pointer; outline:none;

    &:hover{ transform:translateY(-2px); box-shadow:0 12px 28px rgba(10,46,87,.10); }
    &:focus{ box-shadow:0 0 0 3px color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }

    &__bg{ position:absolute; inset:0; z-index:0; pointer-events:none; border-radius:inherit;
      mask: radial-gradient(220px 220px at 110% -10%, rgba(0,0,0,.12), transparent 70%);
      background:
        radial-gradient(260px 160px at 110% -10%, color-mix(in srgb, var(--c-azul-medio) 32%, white), transparent 60%),
        radial-gradient(200px 240px at -10% 120%, color-mix(in srgb, var(--c-azul-oscuro) 10%, transparent), transparent 60%);
    }

    &__head, &__meta, &__footer{ position:relative; z-index:1; }

    .ruta-id{
      min-width:44px; height:32px; border-radius:10px; display:flex; align-items:center; justify-content:center;
      font-weight:700; font-style:italic; background:linear-gradient(145deg,var(--c-azul-oscuro),var(--c-azul-medio));
      color:var(--c-blanco); box-shadow:0 3px 8px rgba(10,46,87,.22); font-size:.85rem;
    }
    .ruta-title{ font-weight:600; color:var(--c-azul-oscuro); font-size:.95rem; }

    .estado{ border-radius:999px; padding:.2rem .6rem; font-size:.72rem;
      background: color-mix(in srgb, var(--c-verde-limon) 24%, transparent);
      color: var(--c-azul-oscuro); border:1px solid color-mix(in srgb, var(--c-verde-limon) 45%, transparent); font-weight:600; }

    /* MÁS ESPACIO entre título y tarjetas de info */
    &__meta{ margin-top:1.1rem; }

    .meta-item{
      display:flex; align-items:center; gap:.35rem; padding:.45rem .55rem; border-radius:10px;
      background:color-mix(in srgb, var(--c-azul-medio) 10%, white);
      color: color-mix(in srgb, var(--c-azul-oscuro) 85%, black);
      font-weight:600; font-size:.8rem;  /* más compacto */
    }

    &__footer{ margin-top:.6rem; display:flex; justify-content:flex-end;
      .mini-pill{ font-size:.75rem; padding:.25rem .6rem; border-radius:999px;
        background: color-mix(in srgb, var(--c-azul-medio) 10%, white); color:var(--c-azul-oscuro);
        border:1px solid color-mix(in srgb, var(--c-azul-oscuro) 20%, transparent); }
    }

    &--selected{ border-color:var(--c-azul-medio);
      box-shadow:0 12px 28px color-mix(in srgb, var(--c-azul-medio) 26%, transparent);
      .ruta-title{ color:var(--c-azul-medio); font-weight:700; } }
  }

  .card-footer{ background:#fff; border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
    .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro) 70%, #4b5563); } }

  .btn.btn-primary{
    background: linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro));
    border-color: var(--c-azul-oscuro); color:#fff;
  }
  .btn.btn-primary:hover{ filter:brightness(1.05); box-shadow:0 6px 16px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent); }
  .btn.btn-primary:focus{ box-shadow:0 0 0 .2rem color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }
  .btn.btn-outline-secondary{ color:var(--c-azul-oscuro); border-color:var(--c-azul-medio); }
  .btn.btn-outline-secondary:hover{ color:#fff; background:linear-gradient(90deg,var(--c-azul-medio),var(--c-azul-oscuro)); border-color:var(--c-azul-oscuro); }
}

/* Ajustes móviles */
@media (max-width:575.98px){
  .zonas-card .card-header{ padding:.9rem; }
  .zonas-card .card-body{ padding:.9rem; }
  .rutas-card .card-header{ padding:.9rem; }
  .rutas-card .card-body{ padding:.9rem; }
}


/* ====== VARIANTES (MAPA) ====== */
.variantes-card{
  --c-azul-oscuro:#0A2E57; --c-azul-medio:#1F5AA8; --c-verde-limon:#A6CE39; --c-blanco:#fff;
  border-radius:18px; overflow:hidden; font-family:'Montserrat',sans-serif;
  .variantes-card #map {
  width: 100%;
  height: 60vh;
  min-height: 360px;
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 16px;
  overflow: hidden;
}


  .card-header{
      /* 💎 Fondo corporativo con textura y profundidad */
  background:
    radial-gradient(circle at 15% 30%, rgba(255,255,255,0.08) 0%, transparent 40%),
    radial-gradient(circle at 85% 70%, rgba(255,255,255,0.08) 0%, transparent 45%),
    linear-gradient(135deg, #0A2E57 0%, #1F5AA8 100%);
    border-bottom:1px solid color-mix(in srgb, var(--c-azul-oscuro) 30%, transparent);
    padding:1rem 1.25rem; gap:.75rem;

    .chip-step{
      width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
      font-weight:700; color:var(--c-blanco);
      background: linear-gradient(140deg, var(--c-azul-medio), var(--c-azul-oscuro));
      box-shadow:0 8px 18px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent);
    }
    .titulo-card{
      font-style:italic; font-weight:700;
      background:linear-gradient(90deg,var(--c-azul-oscuro),var(--c-azul-medio));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
    }
    .zona-pill{ color:var(--c-azul-medio); font-weight:600; }
  }

  .card-body{ padding:1.25rem; }

  .map-wrapper{
    width:100%;
    height:40vh;              /* altura cómoda en desktop */
    min-height:360px;         /* evita mapas muy pequeños */
    border-radius:16px;
    border:1px solid rgba(0,0,0,.06);
    overflow:hidden;
  }

  .meta-item{
    margin-top:.75rem;
    display:flex; align-items:center; gap:.4rem;
    padding:.5rem .6rem; border-radius:10px;
    background:color-mix(in srgb, var(--c-azul-medio) 10%, white);
    color: color-mix(in srgb, var(--c-azul-oscuro) 85%, black);
    font-weight:600; font-size:.85rem;
  }

  .card-footer{
    background:#fff; border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
    .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro) 70%, #4b5563); }
  }
}

@media (max-width:575.98px){
  .variantes-card .card-header{ padding:.9rem; }
  .variantes-card .card-body{ padding:.9rem; }
  .variantes-card .map-wrapper{ height:45vh; min-height:280px; }
}






/* Botón primario visible siempre (paso 3 y paso 4 por si acaso) */
.variantes-card .btn.btn-primary,
.tarifa-card    .btn.btn-primary {
  background: linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro)) !important;
  border-color: var(--c-azul-oscuro) !important;
  color: #fff !important;
  opacity: 1 !important;
  filter: none !important;
}

/* Hover/Focus coherentes */
.variantes-card .btn.btn-primary:hover,
.tarifa-card    .btn.btn-primary:hover {
  filter: brightness(1.05) !important;
  box-shadow: 0 6px 16px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent);
}

.variantes-card .btn.btn-primary:focus,
.tarifa-card    .btn.btn-primary:focus,
.variantes-card .btn.btn-primary:active,
.tarifa-card    .btn.btn-primary:active {
  color: #fff !important;
  box-shadow: 0 0 0 .2rem color-mix(in srgb, var(--c-azul-medio) 35%, transparent);
}


/* Tipografía corporativa */
.tarifa-card {
  font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Label con icono al estilo de tu ejemplo */
.form-label{
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0 0 0.1rem;
    font-family: "Montserrat", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    font-weight: 400;
    font-size: 0.82rem;
    text-transform: uppercase;
    letter-spacing: 0.00em;
    color: #000000;
}
.doc-icon {
  color: var(--c-verde-limon, #A6CE39);
  font-size: 1rem;
}

/* Mat Form Field (appearance=fill) estilo claro, foco azul corporativo */
:host ::ng-deep .tarifa-card .mat-mdc-form-field {
  width: 100%;
}
:host ::ng-deep .tarifa-card .mdc-text-field--filled {
  background-color: #f3f4f6;             /* gris claro como tu captura */
  border-radius: 10px;
}
:host ::ng-deep .tarifa-card .mdc-text-field__input {
  color: #111827;
  font-weight: 500;
}
:host ::ng-deep .tarifa-card .mdc-text-field__input::placeholder {
  color: #9CA3AF;
}
:host ::ng-deep .tarifa-card .mdc-line-ripple {
  background-color: var(--c-azul-medio, #1F5AA8) !important;
}
:host ::ng-deep .tarifa-card .mdc-text-field--focused .mdc-line-ripple {
  background-color: var(--c-azul-oscuro, #0A2E57) !important;
}

/* Header/footer coherentes con tus cards anteriores */
.tarifa-card .card-header{
  background: linear-gradient(180deg, color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 12%, transparent), transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 30%, transparent);
  padding: 1rem 1.25rem;
  .chip-step{
    width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
    font-weight:700;color:#fff;
    background: linear-gradient(140deg, var(--c-azul-medio,#1F5AA8), var(--c-azul-oscuro,#0A2E57));
    box-shadow:0 8px 18px color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 28%, transparent);
  }
  .titulo-card{
    font-style: italic; font-weight: 700;
    background: linear-gradient(90deg, var(--c-azul-oscuro,#0A2E57), var(--c-azul-medio,#1F5AA8));
    -webkit-background-clip:text; background-clip:text; color:transparent;
    font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
  }
}
.tarifa-card .card-body{ padding: 1.25rem; }
.tarifa-card .card-footer{
  background:#fff; border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
  .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 70%, #4b5563); }
}

/* Botón primario consistente */
.tarifa-card .btn.btn-primary{
  background: linear-gradient(90deg, var(--c-azul-medio,#1F5AA8), var(--c-azul-oscuro,#0A2E57));
  border-color: var(--c-azul-oscuro,#0A2E57);
  color:#fff;
}
.tarifa-card .btn.btn-primary:hover{
  filter: brightness(1.05);
  box-shadow: 0 6px 16px color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 28%, transparent);
}


/* (Asegúrate de tener Montserrat cargado globalmente)
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,600;0,700;1,700&display=swap" rel="stylesheet">
*/

:host {
  --c-azul-oscuro: #0A2E57;
  --c-azul-medio:  #1F5AA8;
  --c-verde-limon: #A6CE39;
  --c-blanco:      #FFFFFF;
  font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* ======================= ZONAS ======================= */
.zonas-card {
  overflow: hidden; border-radius: 18px;

  .card-header{
    background: linear-gradient(180deg, color-mix(in srgb, var(--c-azul-medio) 14%, transparent), transparent);
    border-bottom: 1px solid color-mix(in srgb, var(--c-azul-medio) 35%, transparent);
    padding: 1rem 1.25rem; gap: .75rem;

    .chip-step{
      width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
      font-weight:700; color: var(--c-blanco);
      background: linear-gradient(140deg, var(--c-azul-medio), var(--c-azul-oscuro));
      box-shadow: 0 8px 18px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent),
                  inset 0 1px 0 rgba(255,255,255,.25);
    }
    .titulo-card{
      font-style: italic; font-weight: 700; letter-spacing:.2px;
      background: linear-gradient(90deg, var(--c-azul-oscuro), var(--c-azul-medio));
      -webkit-background-clip:text; background-clip:text; color: transparent;
      font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
    }
    .input-search .input-group-text{ background:#fff; border-right:0; color: var(--c-azul-oscuro); }
    .input-search .form-control{ border-left:0; }
  }

  .card-body{ padding: 1.25rem; }

  .zona-card{
    position:relative; border-radius:18px; border:1px solid rgba(0,0,0,.06); padding:1rem;
    background:
      linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.95)),
      radial-gradient(120% 120% at 0% 0%, color-mix(in srgb, var(--c-azul-medio) 10%, transparent), transparent 60%);
    backdrop-filter: blur(6px);
    transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease; cursor:pointer; outline:none;

    &:hover{ transform: translateY(-2px); box-shadow: 0 12px 28px rgba(10,46,87,.12); }
    &:focus{ box-shadow: 0 0 0 3px color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }

    &__bg{ position:absolute; inset:0; z-index:0; pointer-events:none; --accent: var(--c-azul-medio);
      mask: radial-gradient(200px 200px at 95% -10%, rgba(0,0,0,.18), transparent 70%);
      background:
        radial-gradient(240px 160px at 110% -10%, color-mix(in srgb, var(--accent) 45%, white), transparent 60%),
        radial-gradient(180px 220px at -10% 120%, color-mix(in srgb, var(--c-azul-medio) 18%, transparent), transparent 60%);
      border-radius:inherit;
    }

    &__head, &__meta { position:relative; z-index:1; }

    .zona-id{
      width: 40px; height: 40px; border-radius: 12px; display:flex; align-items:center; justify-content:center;
      font-weight:700; font-style: italic; font-size:.95rem;
      background: linear-gradient(145deg, var(--c-azul-oscuro), var(--c-azul-medio)); color: var(--c-blanco);
      box-shadow: 0 4px 10px rgba(10, 46, 87, 0.25);
    }
    .zona-title{ font-weight:600; color: var(--c-azul-oscuro); font-size:1.05rem; }
    .estado{ border-radius:999px; padding:.25rem .7rem; font-size:.75rem;
      background: color-mix(in srgb, var(--c-verde-limon) 25%, transparent);
      color: var(--c-azul-oscuro); border: 1px solid color-mix(in srgb, var(--c-verde-limon) 50%, transparent); font-weight:600; }

     &__meta {
      margin-top: .75rem;
      display: grid;
      grid-template-columns: 1fr; /* 👈 antes 1fr 1fr */
      gap: .5rem;

      .meta-item {
        background: color-mix(in srgb, var(--c-azul-medio) 12%, white);
        color: var(--c-azul-oscuro);
        border-radius: 10px;
        padding: .45rem .6rem;
        display: flex;
        align-items: center;
        gap: .35rem;
        font-weight: 600;
        font-size: .85rem;
      }

      .meta-item--desc span {
        white-space: normal; /* por si la descripción es larga */
      }
    }

    &--selected{ border-color: var(--c-azul-medio);
      box-shadow: 0 12px 28px color-mix(in srgb, var(--c-azul-medio) 28%, transparent);
      .zona-title{ color: var(--c-azul-medio); font-weight:700; } }
  }

  .card-footer{ background: var(--c-blanco); border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
    .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro) 70%, #4b5563); } }

  .btn.btn-primary{
    background: linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro));
    border-color: var(--c-azul-oscuro); color: var(--c-blanco);
  }
  .btn.btn-primary:hover{ filter:brightness(1.05); box-shadow:0 6px 16px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent); }
  .btn.btn-primary:focus{ outline:0; box-shadow:0 0 0 .2rem color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }
  .btn.btn-primary:disabled{
    opacity:.55;
    background: linear-gradient(90deg, color-mix(in srgb, var(--c-azul-medio) 60%, #ddd), color-mix(in srgb, var(--c-azul-oscuro) 60%, #bbb));
    border-color: color-mix(in srgb, var(--c-azul-oscuro) 60%, #bbb);
  }
  .btn.btn-outline-secondary{ color: var(--c-azul-oscuro); border-color: var(--c-azul-medio); }
  .btn.btn-outline-secondary:hover{ color:#fff; background:linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro)); border-color: var(--c-azul-oscuro); }
}

/* ======================= RUTAS ======================= */
.rutas-card{
  --c-azul-oscuro:#0A2E57; --c-azul-medio:#1F5AA8; --c-verde-limon:#A6CE39; --c-blanco:#fff;
  border-radius:18px; overflow:hidden; font-family:'Montserrat',sans-serif;

  .card-header{
    background: linear-gradient(180deg, color-mix(in srgb, var(--c-azul-oscuro) 12%, transparent), transparent);
    border-bottom:1px solid color-mix(in srgb, var(--c-azul-oscuro) 30%, transparent);
    padding:1rem 1.25rem; gap:.75rem;

    .chip-step{
      width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
      font-weight:700; color:var(--c-blanco);
      background: linear-gradient(140deg, var(--c-azul-medio), var(--c-azul-oscuro));
      box-shadow:0 8px 18px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent);
    }
    .titulo-card{
      font-style:italic; font-weight:700;
      background:linear-gradient(90deg,var(--c-azul-oscuro),var(--c-azul-medio));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
    }
    .zona-pill{ color:var(--c-azul-medio); font-weight:600; }
    .input-search .input-group-text{ background:#fff; border-right:0; color:var(--c-azul-oscuro); }
    .input-search .form-control{ border-left:0; }
  }

  .card-body{ padding:1.25rem; }

  .ruta-card{
    position:relative; border-radius:16px; border:1px solid rgba(0,0,0,.06);
    padding:.85rem; /* MÁS PEQUEÑA */
    background:
      linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.97)),
      radial-gradient(120% 120% at 0% 0%, color-mix(in srgb, var(--c-azul-oscuro) 8%, transparent), transparent 60%);
    transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease; cursor:pointer; outline:none;

    &:hover{ transform:translateY(-2px); box-shadow:0 12px 28px rgba(10,46,87,.10); }
    &:focus{ box-shadow:0 0 0 3px color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }

    &__bg{ position:absolute; inset:0; z-index:0; pointer-events:none; border-radius:inherit;
      mask: radial-gradient(220px 220px at 110% -10%, rgba(0,0,0,.12), transparent 70%);
      background:
        radial-gradient(260px 160px at 110% -10%, color-mix(in srgb, var(--c-azul-medio) 32%, white), transparent 60%),
        radial-gradient(200px 240px at -10% 120%, color-mix(in srgb, var(--c-azul-oscuro) 10%, transparent), transparent 60%);
    }

    &__head, &__meta, &__footer{ position:relative; z-index:1; }

    .ruta-id{
      min-width:44px; height:32px; border-radius:10px; display:flex; align-items:center; justify-content:center;
      font-weight:700; font-style:italic; background:linear-gradient(145deg,var(--c-azul-oscuro),var(--c-azul-medio));
      color:var(--c-blanco); box-shadow:0 3px 8px rgba(10,46,87,.22); font-size:.85rem;
    }
    .ruta-title{ font-weight:600; color:var(--c-azul-oscuro); font-size:.95rem; }

    .estado{ border-radius:999px; padding:.2rem .6rem; font-size:.72rem;
      background: color-mix(in srgb, var(--c-verde-limon) 24%, transparent);
      color: var(--c-azul-oscuro); border:1px solid color-mix(in srgb, var(--c-verde-limon) 45%, transparent); font-weight:600; }

    /* MÁS ESPACIO entre título y tarjetas de info */
    &__meta{ margin-top:1.1rem; }

    .meta-item{
      display:flex; align-items:center; gap:.35rem; padding:.45rem .55rem; border-radius:10px;
      background:color-mix(in srgb, var(--c-azul-medio) 10%, white);
      color: color-mix(in srgb, var(--c-azul-oscuro) 85%, black);
      font-weight:600; font-size:.8rem;  /* más compacto */
    }

    &__footer{ margin-top:.6rem; display:flex; justify-content:flex-end;
      .mini-pill{ font-size:.75rem; padding:.25rem .6rem; border-radius:999px;
        background: color-mix(in srgb, var(--c-azul-medio) 10%, white); color:var(--c-azul-oscuro);
        border:1px solid color-mix(in srgb, var(--c-azul-oscuro) 20%, transparent); }
    }

    &--selected{ border-color:var(--c-azul-medio);
      box-shadow:0 12px 28px color-mix(in srgb, var(--c-azul-medio) 26%, transparent);
      .ruta-title{ color:var(--c-azul-medio); font-weight:700; } }
  }

  .card-footer{ background:#fff; border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
    .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro) 70%, #4b5563); } }

  .btn.btn-primary{
    background: linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro));
    border-color: var(--c-azul-oscuro); color:#fff;
  }
  .btn.btn-primary:hover{ filter:brightness(1.05); box-shadow:0 6px 16px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent); }
  .btn.btn-primary:focus{ box-shadow:0 0 0 .2rem color-mix(in srgb, var(--c-azul-medio) 35%, transparent); }
  .btn.btn-outline-secondary{ color:var(--c-azul-oscuro); border-color:var(--c-azul-medio); }
  .btn.btn-outline-secondary:hover{ color:#fff; background:linear-gradient(90deg,var(--c-azul-medio),var(--c-azul-oscuro)); border-color:var(--c-azul-oscuro); }
}

/* Ajustes móviles */
@media (max-width:575.98px){
  .zonas-card .card-header{ padding:.9rem; }
  .zonas-card .card-body{ padding:.9rem; }
  .rutas-card .card-header{ padding:.9rem; }
  .rutas-card .card-body{ padding:.9rem; }
}


/* ====== VARIANTES (MAPA) ====== */
.variantes-card{
  --c-azul-oscuro:#0A2E57; --c-azul-medio:#1F5AA8; --c-verde-limon:#A6CE39; --c-blanco:#fff;
  border-radius:18px; overflow:hidden; font-family:'Montserrat',sans-serif;
  .variantes-card #map {
  width: 100%;
  height: 60vh;
  min-height: 360px;
  border: 1px solid rgba(0,0,0,.06);
  border-radius: 16px;
  overflow: hidden;
}


  .card-header{
      /* 💎 Fondo corporativo con textura y profundidad */
  background:
    radial-gradient(circle at 15% 30%, rgba(255,255,255,0.08) 0%, transparent 40%),
    radial-gradient(circle at 85% 70%, rgba(255,255,255,0.08) 0%, transparent 45%),
    linear-gradient(135deg, #0A2E57 0%, #1F5AA8 100%);
    border-bottom:1px solid color-mix(in srgb, var(--c-azul-oscuro) 30%, transparent);
    padding:1rem 1.25rem; gap:.75rem;

    .chip-step{
      width:36px; height:36px; border-radius:10px; display:grid; place-items:center;
      font-weight:700; color:var(--c-blanco);
      background: linear-gradient(140deg, var(--c-azul-medio), var(--c-azul-oscuro));
      box-shadow:0 8px 18px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent);
    }
    .titulo-card{
      font-style:italic; font-weight:700;
      background:linear-gradient(90deg,var(--c-azul-oscuro),var(--c-azul-medio));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
    }
    .zona-pill{ color:var(--c-azul-medio); font-weight:600; }
  }

  .card-body{ padding:1.25rem; }

  .map-wrapper{
    width:100%;
    height:40vh;              /* altura cómoda en desktop */
    min-height:360px;         /* evita mapas muy pequeños */
    border-radius:16px;
    border:1px solid rgba(0,0,0,.06);
    overflow:hidden;
  }

  .meta-item{
    margin-top:.75rem;
    display:flex; align-items:center; gap:.4rem;
    padding:.5rem .6rem; border-radius:10px;
    background:color-mix(in srgb, var(--c-azul-medio) 10%, white);
    color: color-mix(in srgb, var(--c-azul-oscuro) 85%, black);
    font-weight:600; font-size:.85rem;
  }

  .card-footer{
    background:#fff; border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
    .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro) 70%, #4b5563); }
  }
}

@media (max-width:575.98px){
  .variantes-card .card-header{ padding:.9rem; }
  .variantes-card .card-body{ padding:.9rem; }
  .variantes-card .map-wrapper{ height:45vh; min-height:280px; }
}






/* Botón primario visible siempre (paso 3 y paso 4 por si acaso) */
.variantes-card .btn.btn-primary,
.tarifa-card    .btn.btn-primary {
  background: linear-gradient(90deg, var(--c-azul-medio), var(--c-azul-oscuro)) !important;
  border-color: var(--c-azul-oscuro) !important;
  color: #fff !important;
  opacity: 1 !important;
  filter: none !important;
}

/* Hover/Focus coherentes */
.variantes-card .btn.btn-primary:hover,
.tarifa-card    .btn.btn-primary:hover {
  filter: brightness(1.05) !important;
  box-shadow: 0 6px 16px color-mix(in srgb, var(--c-azul-oscuro) 28%, transparent);
}

.variantes-card .btn.btn-primary:focus,
.tarifa-card    .btn.btn-primary:focus,
.variantes-card .btn.btn-primary:active,
.tarifa-card    .btn.btn-primary:active {
  color: #fff !important;
  box-shadow: 0 0 0 .2rem color-mix(in srgb, var(--c-azul-medio) 35%, transparent);
}


/* Tipografía corporativa */
.tarifa-card {
  font-family: 'Montserrat', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Label con icono al estilo de tu ejemplo */
.form-label{
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0 0 0.1rem;
    font-family: "Montserrat", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    font-weight: 400;
    font-size: 0.82rem;
    text-transform: uppercase;
    letter-spacing: 0.00em;
    color: #000000;
}
.doc-icon {
  color: var(--c-verde-limon, #A6CE39);
  font-size: 1rem;
}

/* Mat Form Field (appearance=fill) estilo claro, foco azul corporativo */
:host ::ng-deep .tarifa-card .mat-mdc-form-field {
  width: 100%;
}
:host ::ng-deep .tarifa-card .mdc-text-field--filled {
  background-color: #f3f4f6;             /* gris claro como tu captura */
  border-radius: 10px;
}
:host ::ng-deep .tarifa-card .mdc-text-field__input {
  color: #111827;
  font-weight: 500;
}
:host ::ng-deep .tarifa-card .mdc-text-field__input::placeholder {
  color: #9CA3AF;
}
:host ::ng-deep .tarifa-card .mdc-line-ripple {
  background-color: var(--c-azul-medio, #1F5AA8) !important;
}
:host ::ng-deep .tarifa-card .mdc-text-field--focused .mdc-line-ripple {
  background-color: var(--c-azul-oscuro, #0A2E57) !important;
}

/* Header/footer coherentes con tus cards anteriores */
.tarifa-card .card-header{
  background: linear-gradient(180deg, color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 12%, transparent), transparent);
  border-bottom: 1px solid color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 30%, transparent);
  padding: 1rem 1.25rem;
  .chip-step{
    width:36px;height:36px;border-radius:10px;display:grid;place-items:center;
    font-weight:700;color:#fff;
    background: linear-gradient(140deg, var(--c-azul-medio,#1F5AA8), var(--c-azul-oscuro,#0A2E57));
    box-shadow:0 8px 18px color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 28%, transparent);
  }
  .titulo-card{
    font-style: italic; font-weight: 700;
    background: linear-gradient(90deg, var(--c-azul-oscuro,#0A2E57), var(--c-azul-medio,#1F5AA8));
    -webkit-background-clip:text; background-clip:text; color:transparent;
    font-size: clamp(1.125rem, calc(1rem + 1vw), 1.5rem);
  }
}
.tarifa-card .card-body{ padding: 1.25rem; }
.tarifa-card .card-footer{
  background:#fff; border-top:1px solid rgba(0,0,0,.06); padding:.9rem 1.25rem;
  .texto-paso{ color: color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 70%, #4b5563); }
}

/* Botón primario consistente */
.tarifa-card .btn.btn-primary{
  background: linear-gradient(90deg, var(--c-azul-medio,#1F5AA8), var(--c-azul-oscuro,#0A2E57));
  border-color: var(--c-azul-oscuro,#0A2E57);
  color:#fff;
}
.tarifa-card .btn.btn-primary:hover{
  filter: brightness(1.05);
  box-shadow: 0 6px 16px color-mix(in srgb, var(--c-azul-oscuro,#0A2E57) 28%, transparent);
}
